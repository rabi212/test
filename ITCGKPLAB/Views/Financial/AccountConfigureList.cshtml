@model IEnumerable<AccountConfigViewModel>
@inject IAuthorizationService authorizationService
@{
	ViewData["Title"] = "Search Account Configure  File";
}
<div class="CustomBorderRelative pt-3">
	<div class="CustomBorder1">		
		<div class="stateScroll" id="IPDPatientMasterlistTable1">
			<table class="table table-sm table-striped table-bordered table-hover table-responsive-sm OpenItemOrderVouch" title="Account Configure Search Records">
				<thead class="RedDarkWhiteListHeader">
					<tr>
						<th class="wdp-5" hidden>
							Id
						</th>						
						<th>
							Branch Details <span><a asp-action="Index" asp-controller="Home" class="btn btn-outline-warning btn-sm">Cancel</a></span>
							@if (!Model.Any())
							{
								<span><a asp-action="CreateAccountConfigurationFile" asp-controller="Financial" asp-route-id="0" asp-route-isSuccess="false" class="btn btn-sm btn-warning" style="width:auto">Add Configure A/c</a></span>
							}
						</th>
						<th>
							Sale A/c
						</th>
						<th class="wdp-8 text-center">
							Action
						</th>
					</tr>
				</thead>
				<tbody>
					@if (Model.Any())
					{
						@foreach (var item in Model)
						{							
							<tr>
								<td hidden>
									@item.Id
								</td>
								<td>
									@(item.CompanyDetailsView.TransCode + " " + item.CompanyDetailsView.NameAddress)
								</td>
								<td>
									@(item.SaleCode)
								</td>								
								<td class="text-center">									
									@if ((await authorizationService.AuthorizeAsync(User, "AddEditAccountConfigurationFilePolicy")).Succeeded)
									{
										<a asp-action="CreateAccountConfigurationFile" asp-controller="Financial" asp-route-id=@item.Id asp-route-isSuccess="false" title="Edit"><span><i class="far fa-edit mr-3 fa-1x icon-color-green"></i></span></a>
									}									
								</td>
							</tr>
						}
					}
					else
					{
						<tr title="Account Configure  Search Records">
							<td colspan="6">
								<h3 class="text-danger text-center">No Record found......</h3>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
</div>
@section scripts {
	<script>
		$('#IPDPatientMasterlistTable1').height(screen.height - 175);
	</script>
}